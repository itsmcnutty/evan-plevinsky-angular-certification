{"ast":null,"code":"var _class;\nimport { CommonModule, Location } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { UnescapePipe } from '../pipes/unescape-html.pipe';\nimport * as _ from 'lodash';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/router\";\nconst _c0 = function (a0, a1) {\n  return {\n    \"answer-correct\": a0,\n    \"answer-incorrect\": a1\n  };\n};\nfunction QuizResultsComponent_div_2_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"unescapeHtml\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const answer_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    const questionAnswer_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c0, i_r4 === questionAnswer_r1.correctAnswerId, i_r4 === questionAnswer_r1.answerId && i_r4 !== questionAnswer_r1.correctAnswerId));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, answer_r3), \" \");\n  }\n}\nfunction QuizResultsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"unescapeHtml\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, QuizResultsComponent_div_2_button_4_Template, 3, 7, \"button\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const questionAnswer_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, questionAnswer_r1.question));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", questionAnswer_r1.possibleAnswers);\n  }\n}\nconst _c1 = function (a0, a1, a2) {\n  return {\n    \"result-failed\": a0,\n    \"result-passed\": a1,\n    \"result-excelled\": a2\n  };\n};\nexport class QuizResultsComponent {\n  constructor(location) {\n    this.location = location;\n    this.correctAnswers = 0;\n  }\n  ngOnInit() {\n    const state = this.location.getState();\n    if (!_.isNil(state)) {\n      const sortedQuizAnswers = state.quizAnswers.sort((a, b) => a.questionId - b.questionId);\n      this.quizAnswers = sortedQuizAnswers;\n      state.quizAnswers.forEach(answer => this.correctAnswers += answer.correctAnswerId === answer.answerId ? 1 : 0);\n    }\n  }\n}\n_class = QuizResultsComponent;\n_class.ɵfac = function QuizResultsComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.Location));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-quiz-results\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 8,\n  vars: 7,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [\"id\", \"quizScore\", 3, \"ngClass\"], [\"id\", \"btnNewQuiz\", \"routerLink\", \"/quiz\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"]],\n  template: function QuizResultsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Quiz Results\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, QuizResultsComponent_div_2_Template, 5, 4, \"div\", 0);\n      i0.ɵɵelementStart(3, \"p\", 1);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"a\", 2)(6, \"button\");\n      i0.ɵɵtext(7, \"Create a new quiz\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.quizAnswers);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(3, _c1, ctx.correctAnswers <= 1, ctx.correctAnswers === 2 || ctx.correctAnswers === 3, ctx.correctAnswers >= 4));\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\"You scored \", ctx.correctAnswers, \" out of 5\");\n    }\n  },\n  dependencies: [CommonModule, i1.NgClass, i1.NgForOf, UnescapePipe, RouterModule, i2.RouterLink],\n  styles: [\".answer-correct[_ngcontent-%COMP%] {\\n  background: green;\\n}\\n\\n.answer-incorrect[_ngcontent-%COMP%] {\\n  background: red;\\n}\\n\\n.result-failed[_ngcontent-%COMP%] {\\n  background: red;\\n}\\n\\n.result-passed[_ngcontent-%COMP%] {\\n  background: yellow;\\n}\\n\\n.result-excelled[_ngcontent-%COMP%] {\\n  background: green;\\n}\\n\\n#quizScore[_ngcontent-%COMP%] {\\n  padding: 0px 10px;\\n  display: inline-block;\\n}\\n\\n#btnNewQuiz[_ngcontent-%COMP%] {\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcXVpei1yZXN1bHRzL3F1aXotcmVzdWx0cy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0VBQ0EscUJBQUE7QUFDRjs7QUFFQTtFQUNFLGNBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5hbnN3ZXItY29ycmVjdCB7XHJcbiAgYmFja2dyb3VuZDogZ3JlZW47XHJcbn1cclxuXHJcbi5hbnN3ZXItaW5jb3JyZWN0IHtcclxuICBiYWNrZ3JvdW5kOiByZWQ7XHJcbn1cclxuXHJcbi5yZXN1bHQtZmFpbGVkIHtcclxuICBiYWNrZ3JvdW5kOiByZWQ7XHJcbn1cclxuXHJcbi5yZXN1bHQtcGFzc2VkIHtcclxuICBiYWNrZ3JvdW5kOiB5ZWxsb3c7XHJcbn1cclxuXHJcbi5yZXN1bHQtZXhjZWxsZWQge1xyXG4gIGJhY2tncm91bmQ6IGdyZWVuO1xyXG59XHJcblxyXG4jcXVpelNjb3JlIHtcclxuICBwYWRkaW5nOiAwcHggMTBweDtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbiNidG5OZXdRdWl6IHtcclxuICBkaXNwbGF5OiBibG9jaztcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["CommonModule","Location","RouterModule","UnescapePipe","_","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction2","_c0","i_r4","questionAnswer_r1","correctAnswerId","answerId","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","answer_r3","ɵɵtemplate","QuizResultsComponent_div_2_button_4_Template","ɵɵtextInterpolate","question","possibleAnswers","QuizResultsComponent","constructor","location","correctAnswers","ngOnInit","state","getState","isNil","sortedQuizAnswers","quizAnswers","sort","a","b","questionId","forEach","answer","ɵɵdirectiveInject","i1","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","QuizResultsComponent_Template","rf","ctx","QuizResultsComponent_div_2_Template","ɵɵpureFunction3","_c1","NgClass","NgForOf","i2","RouterLink","styles"],"sources":["C:\\git\\stackblitz-angular-certification\\src\\app\\quiz-results\\quiz-results.component.ts","C:\\git\\stackblitz-angular-certification\\src\\app\\quiz-results\\quiz-results.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule, Location } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { UnescapePipe } from '../pipes/unescape-html.pipe';\r\nimport { QuestionAnswerModel } from '../models/question-answer.model';\r\nimport { QuizStateModel } from '../models/quiz-state.model';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'app-quiz-results',\r\n  standalone: true,\r\n  imports: [CommonModule, UnescapePipe, RouterModule],\r\n  templateUrl: './quiz-results.component.html',\r\n  styleUrls: ['./quiz-results.component.scss'],\r\n})\r\nexport class QuizResultsComponent implements OnInit {\r\n  quizAnswers: QuestionAnswerModel[] | undefined;\r\n  correctAnswers = 0;\r\n\r\n  constructor(private location: Location) {}\r\n\r\n  ngOnInit() {\r\n    const state = this.location.getState() as QuizStateModel;\r\n    if (!_.isNil(state)) {\r\n      const sortedQuizAnswers = state.quizAnswers.sort(\r\n        (a, b) => a.questionId - b.questionId\r\n      );\r\n      this.quizAnswers = sortedQuizAnswers;\r\n\r\n      state.quizAnswers.forEach(\r\n        (answer) =>\r\n          (this.correctAnswers +=\r\n            answer.correctAnswerId === answer.answerId ? 1 : 0)\r\n      );\r\n    }\r\n  }\r\n}\r\n","<h2>Quiz Results</h2>\r\n\r\n<div *ngFor=\"let questionAnswer of quizAnswers\">\r\n  <p>{{ questionAnswer.question | unescapeHtml }}</p>\r\n  <button\r\n    *ngFor=\"let answer of questionAnswer.possibleAnswers; index as i\"\r\n    [ngClass]=\"{\r\n      'answer-correct': i === questionAnswer.correctAnswerId,\r\n      'answer-incorrect':\r\n        i === questionAnswer.answerId && i !== questionAnswer.correctAnswerId\r\n    }\"\r\n  >\r\n    {{ answer | unescapeHtml }}\r\n  </button>\r\n</div>\r\n\r\n<p id=\"quizScore\" [ngClass]=\"{\r\n  'result-failed': correctAnswers <= 1,\r\n  'result-passed': correctAnswers === 2 || correctAnswers === 3,\r\n  'result-excelled': correctAnswers >= 4\r\n}\">You scored {{correctAnswers}} out of 5</p>\r\n\r\n<a id=\"btnNewQuiz\" routerLink=\"/quiz\"><button>Create a new quiz</button></a>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}