{"ast":null,"code":"var _class;\nimport { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { QuestionAnswerModel } from '../models/question-answer.model';\nimport { UnescapePipe } from '../pipes/unescape-html.pipe';\nimport * as _ from 'lodash';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nconst _c0 = function (a0) {\n  return {\n    \"button-selected\": a0\n  };\n};\nfunction QuizQuestionComponent_ng_container_0_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function QuizQuestionComponent_ng_container_0_button_4_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const i_r3 = restoredCtx.index;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.selectAnswer(i_r3));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"unescapeHtml\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const answer_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, i_r3 === ctx_r1.selectedAnswer));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, answer_r2), \" \");\n  }\n}\nfunction QuizQuestionComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"unescapeHtml\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, QuizQuestionComponent_ng_container_0_button_4_Template, 3, 6, \"button\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, ctx_r0.questionDetails.question));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.possibleAnswers);\n  }\n}\nexport class QuizQuestionComponent {\n  constructor() {\n    this.possibleAnswers = [];\n    this.answerSelectedEvent = new EventEmitter();\n  }\n  ngAfterContentInit() {\n    if (this.questionDetails) {\n      const answerList = [this.questionDetails.correct_answer, ...this.questionDetails.incorrect_answers];\n      this.possibleAnswers = _.shuffle(answerList);\n    }\n  }\n  selectAnswer(answerId) {\n    if (this.questionDetails !== undefined && this.questionId !== undefined) {\n      this.selectedAnswer = answerId;\n      const correctAnswer = this.questionDetails.correct_answer;\n      const correctAnswerId = this.possibleAnswers.findIndex(answer => answer === correctAnswer);\n      const questionAnswer = new QuestionAnswerModel(this.possibleAnswers, answerId, correctAnswerId, this.questionId, this.questionDetails.question);\n      this.answerSelectedEvent.emit(questionAnswer);\n    }\n  }\n}\n_class = QuizQuestionComponent;\n_class.ɵfac = function QuizQuestionComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-quiz-question\"]],\n  inputs: {\n    questionDetails: \"questionDetails\",\n    questionId: \"questionId\"\n  },\n  outputs: {\n    answerSelectedEvent: \"answerSelectedEvent\"\n  },\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [\"class\", \"button-answer\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"button-answer\", 3, \"ngClass\", \"click\"]],\n  template: function QuizQuestionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, QuizQuestionComponent_ng_container_0_Template, 5, 4, \"ng-container\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.questionDetails);\n    }\n  },\n  dependencies: [CommonModule, i1.NgClass, i1.NgForOf, i1.NgIf, UnescapePipe],\n  styles: [\".button-selected[_ngcontent-%COMP%] {\\n  background: green;\\n}\\n\\n.button-answer[_ngcontent-%COMP%] {\\n  margin-right: 8px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcXVpei1xdWVzdGlvbi9xdWl6LXF1ZXN0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9uLXNlbGVjdGVkIHtcclxuICBiYWNrZ3JvdW5kOiBncmVlbjtcclxufVxyXG5cclxuLmJ1dHRvbi1hbnN3ZXIge1xyXG4gIG1hcmdpbi1yaWdodDogOHB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n  changeDetection: 0\n});","map":{"version":3,"names":["EventEmitter","CommonModule","QuestionAnswerModel","UnescapePipe","_","i0","ɵɵelementStart","ɵɵlistener","QuizQuestionComponent_ng_container_0_button_4_Template_button_click_0_listener","restoredCtx","ɵɵrestoreView","_r5","i_r3","index","ctx_r4","ɵɵnextContext","ɵɵresetView","selectAnswer","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction1","_c0","ctx_r1","selectedAnswer","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","answer_r2","ɵɵelementContainerStart","ɵɵtemplate","QuizQuestionComponent_ng_container_0_button_4_Template","ɵɵelementContainerEnd","ɵɵtextInterpolate","ctx_r0","questionDetails","question","possibleAnswers","QuizQuestionComponent","constructor","answerSelectedEvent","ngAfterContentInit","answerList","correct_answer","incorrect_answers","shuffle","answerId","undefined","questionId","correctAnswer","correctAnswerId","findIndex","answer","questionAnswer","emit","selectors","inputs","outputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","QuizQuestionComponent_Template","rf","ctx","QuizQuestionComponent_ng_container_0_Template","i1","NgClass","NgForOf","NgIf","styles","changeDetection"],"sources":["C:\\git\\stackblitz-angular-certification\\src\\app\\quiz-question\\quiz-question.component.ts","C:\\git\\stackblitz-angular-certification\\src\\app\\quiz-question\\quiz-question.component.html"],"sourcesContent":["import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n} from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TriviaQuestionModel } from '../models/trivia-question.model';\r\nimport { QuestionAnswerModel } from '../models/question-answer.model';\r\nimport { UnescapePipe } from '../pipes/unescape-html.pipe';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'app-quiz-question',\r\n  standalone: true,\r\n  imports: [CommonModule, UnescapePipe],\r\n  templateUrl: './quiz-question.component.html',\r\n  styleUrls: ['./quiz-question.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class QuizQuestionComponent implements AfterContentInit {\r\n  @Input()\r\n  questionDetails: TriviaQuestionModel | undefined;\r\n  @Input()\r\n  questionId: number | undefined;\r\n\r\n  possibleAnswers: string[] = [];\r\n  selectedAnswer: number | undefined;\r\n\r\n  @Output()\r\n  answerSelectedEvent = new EventEmitter<QuestionAnswerModel>();\r\n\r\n  ngAfterContentInit() {\r\n    if (this.questionDetails) {\r\n      const answerList = [\r\n        this.questionDetails.correct_answer,\r\n        ...this.questionDetails.incorrect_answers,\r\n      ];\r\n      this.possibleAnswers = _.shuffle(answerList);\r\n    }\r\n  }\r\n\r\n  public selectAnswer(answerId: number): void {\r\n    if (this.questionDetails !== undefined && this.questionId !== undefined) {\r\n      this.selectedAnswer = answerId;\r\n      const correctAnswer = this.questionDetails.correct_answer;\r\n      const correctAnswerId = this.possibleAnswers.findIndex(\r\n        (answer) => answer === correctAnswer\r\n      );\r\n      const questionAnswer = new QuestionAnswerModel(\r\n        this.possibleAnswers,\r\n        answerId,\r\n        correctAnswerId,\r\n        this.questionId,\r\n        this.questionDetails.question\r\n      );\r\n      this.answerSelectedEvent.emit(questionAnswer);\r\n    }\r\n  }\r\n}\r\n","<ng-container *ngIf=\"questionDetails\">\r\n  <p>{{ questionDetails.question | unescapeHtml }}</p>\r\n  <button\r\n    *ngFor=\"let answer of possibleAnswers; index as i\"\r\n    (click)=\"selectAnswer(i)\"\r\n    class=\"button-answer\"\r\n    [ngClass]=\"{ 'button-selected': i === selectedAnswer }\"\r\n  >\r\n    {{ answer | unescapeHtml }}\r\n  </button>\r\n</ng-container>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}