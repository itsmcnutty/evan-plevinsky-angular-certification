{"ast":null,"code":"var _class;\nimport { Router } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { QuizCreationComponent } from '../quiz-creation/quiz-creation.component';\nimport { QuizQuestionComponent } from '../quiz-question/quiz-question.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nfunction QuizComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-quiz-question\", 3);\n    i0.ɵɵlistener(\"answerSelectedEvent\", function QuizComponent_div_1_Template_app_quiz_question_answerSelectedEvent_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.saveAnswerForQuestion($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const questionDetails_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"questionDetails\", questionDetails_r2)(\"questionId\", i_r3);\n  }\n}\nfunction QuizComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function QuizComponent_ng_container_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.viewQuizResults());\n    });\n    i0.ɵɵtext(2, \"Submit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nexport class QuizComponent {\n  constructor(router) {\n    this.router = router;\n    this.quizQuestions = [];\n    this.quizAnswers = [];\n  }\n  createQuiz(quizResponse) {\n    this.quizQuestions = quizResponse.results;\n  }\n  saveAnswerForQuestion(questionAnswer) {\n    const questionIndex = this.quizAnswers.findIndex(answer => answer.questionId === questionAnswer.questionId);\n    if (questionIndex > -1) {\n      this.quizAnswers[questionIndex] = questionAnswer;\n    } else {\n      this.quizAnswers.push(questionAnswer);\n    }\n  }\n  viewQuizResults() {\n    this.router.navigateByUrl('/results', {\n      state: {\n        quizAnswers: this.quizAnswers\n      }\n    });\n  }\n}\n_class = QuizComponent;\n_class.ɵfac = function QuizComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-quiz\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 3,\n  vars: 2,\n  consts: [[3, \"createQuizEvent\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"questionDetails\", \"questionId\", \"answerSelectedEvent\"], [\"id\", \"quizSubmit\", 3, \"click\"]],\n  template: function QuizComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"app-quiz-creation\", 0);\n      i0.ɵɵlistener(\"createQuizEvent\", function QuizComponent_Template_app_quiz_creation_createQuizEvent_0_listener($event) {\n        return ctx.createQuiz($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(1, QuizComponent_div_1_Template, 2, 2, \"div\", 1);\n      i0.ɵɵtemplate(2, QuizComponent_ng_container_2_Template, 3, 0, \"ng-container\", 2);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.quizQuestions);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.quizAnswers.length === 5);\n    }\n  },\n  dependencies: [CommonModule, i2.NgForOf, i2.NgIf, QuizCreationComponent, QuizQuestionComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Router","CommonModule","QuizCreationComponent","QuizQuestionComponent","i0","ɵɵelementStart","ɵɵlistener","QuizComponent_div_1_Template_app_quiz_question_answerSelectedEvent_1_listener","$event","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","saveAnswerForQuestion","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","questionDetails_r2","i_r3","ɵɵelementContainerStart","QuizComponent_ng_container_2_Template_button_click_1_listener","_r7","ctx_r6","viewQuizResults","ɵɵtext","ɵɵelementContainerEnd","QuizComponent","constructor","router","quizQuestions","quizAnswers","createQuiz","quizResponse","results","questionAnswer","questionIndex","findIndex","answer","questionId","push","navigateByUrl","state","ɵɵdirectiveInject","i1","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","QuizComponent_Template","rf","ctx","QuizComponent_Template_app_quiz_creation_createQuizEvent_0_listener","ɵɵtemplate","QuizComponent_div_1_Template","QuizComponent_ng_container_2_Template","length","i2","NgForOf","NgIf","styles"],"sources":["C:\\git\\stackblitz-angular-certification\\src\\app\\quiz\\quiz.component.ts","C:\\git\\stackblitz-angular-certification\\src\\app\\quiz\\quiz.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { QuizCreationComponent } from '../quiz-creation/quiz-creation.component';\r\nimport { QuizQuestionComponent } from '../quiz-question/quiz-question.component';\r\nimport { QuestionsResponseModel } from '../models/questions-response.model';\r\nimport { TriviaQuestionModel } from '../models/trivia-question.model';\r\nimport { QuestionAnswerModel } from '../models/question-answer.model';\r\n\r\n@Component({\r\n  selector: 'app-quiz',\r\n  standalone: true,\r\n  imports: [CommonModule, QuizCreationComponent, QuizQuestionComponent],\r\n  templateUrl: './quiz.component.html',\r\n  styleUrls: ['./quiz.component.scss'],\r\n})\r\nexport class QuizComponent {\r\n  quizQuestions: TriviaQuestionModel[] = [];\r\n  quizAnswers: QuestionAnswerModel[] = [];\r\n\r\n  constructor(private router: Router) {}\r\n\r\n  public createQuiz(quizResponse: QuestionsResponseModel): void {\r\n    this.quizQuestions = quizResponse.results;\r\n  }\r\n\r\n  public saveAnswerForQuestion(questionAnswer: QuestionAnswerModel): void {\r\n    const questionIndex = this.quizAnswers.findIndex(\r\n      (answer) => answer.questionId === questionAnswer.questionId\r\n    );\r\n    if (questionIndex > -1) {\r\n      this.quizAnswers[questionIndex] = questionAnswer;\r\n    } else {\r\n      this.quizAnswers.push(questionAnswer);\r\n    }\r\n  }\r\n\r\n  public viewQuizResults(): void {\r\n    this.router.navigateByUrl('/results', {\r\n      state: { quizAnswers: this.quizAnswers },\r\n    });\r\n  }\r\n}\r\n","<app-quiz-creation (createQuizEvent)=\"createQuiz($event)\"></app-quiz-creation>\r\n\r\n<div *ngFor=\"let questionDetails of quizQuestions; index as i\">\r\n  <app-quiz-question\r\n    [questionDetails]=\"questionDetails\"\r\n    [questionId]=\"i\"\r\n    (answerSelectedEvent)=\"saveAnswerForQuestion($event)\"\r\n  ></app-quiz-question>\r\n</div>\r\n\r\n<ng-container *ngIf=\"quizAnswers.length === 5\">\r\n  <button (click)=\"viewQuizResults()\" id=\"quizSubmit\">Submit</button>\r\n</ng-container>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}